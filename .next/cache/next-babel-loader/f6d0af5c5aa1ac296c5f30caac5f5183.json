{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport HeroLayout from '../../layouts/HeroLayout';\nimport Button from '../../components/Button/Button';\nimport SearchForm from './SearchForm';\nimport FilterOptions from './FilterOptions';\nimport MovieList from '../../components/MovieList/MovieList';\nimport AddMovieModal from './AddMovieModal';\nimport EditMovieModal from './EditMovieModal';\nimport DeleteMovieModal from './DeleteMovieModal';\nimport MovieDetails from './MovieDetails';\nimport * as moviesActions from '../../store/actions/movies';\nimport * as moviesSelectors from '../../store/selectors/movies';\nimport { useParams } from 'react-router-dom';\nimport useModalState from '../../hooks/useModalState';\nimport NotFound from '../NotFound/NotFound';\n\nvar Home = function Home(_ref) {\n  _s2();\n\n  var movies = _ref.movies,\n      isLoading = _ref.isLoading,\n      error = _ref.error,\n      dispatchGetMovies = _ref.dispatchGetMovies;\n\n  var _useModalState = useModalState(),\n      _useModalState2 = _slicedToArray(_useModalState, 3),\n      addMovieModalOpen = _useModalState2[0],\n      showAddMovideModal = _useModalState2[1],\n      closeAddMovideModal = _useModalState2[2];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      movieIdToEdit = _useState2[0],\n      setMovieIdToEdit = _useState2[1];\n\n  var _useModalState3 = useModalState(),\n      _useModalState4 = _slicedToArray(_useModalState3, 3),\n      editMovieModalOpen = _useModalState4[0],\n      showEditMovideModal = _useModalState4[1],\n      closeEditMovideModal = _useModalState4[2];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      movieIdToDelete = _useState4[0],\n      setMovieIdToDelete = _useState4[1];\n\n  var _useModalState5 = useModalState(),\n      _useModalState6 = _slicedToArray(_useModalState5, 3),\n      deleteMovieModalOpen = _useModalState6[0],\n      showDeleteMovideModal = _useModalState6[1],\n      closeDeleteMovideModal = _useModalState6[2];\n\n  var router = useRouter();\n  debugger;\n  var headerRight = /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return showAddMovideModal();\n    }\n  }, \"+ ADD MOVIE\");\n  var addMovieModal = addMovieModalOpen ? /*#__PURE__*/React.createElement(AddMovieModal, {\n    onCloseClick: function onCloseClick() {\n      return closeAddMovideModal();\n    }\n  }) : null;\n  var editMovieModal = editMovieModalOpen && movieIdToEdit ? /*#__PURE__*/React.createElement(EditMovieModal, {\n    movieId: movieIdToEdit,\n    onCloseClick: function onCloseClick() {\n      return closeEditMovideModal();\n    }\n  }) : null;\n  var deleteMovieModal = deleteMovieModalOpen && movieIdToDelete ? /*#__PURE__*/React.createElement(DeleteMovieModal, {\n    movieId: movieIdToDelete,\n    onCloseClick: function onCloseClick() {\n      return closeDeleteMovideModal();\n    }\n  }) : null;\n\n  var handleMovieEditClick = function handleMovieEditClick(movieId) {\n    setMovieIdToEdit(movieId);\n    showEditMovideModal();\n  };\n\n  var handleMovieDeleteClick = function handleMovieDeleteClick(movieId) {\n    setMovieIdToDelete(movieId);\n    showDeleteMovideModal();\n  };\n\n  var searchForm = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"tp-header home__title\"\n  }, \"FIND YOUR MOVIE\"), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"home__search\"\n  }, /*#__PURE__*/React.createElement(SearchForm, null)));\n  var hero = /*#__PURE__*/React.createElement(React.Fragment, null, searchForm) // <Switch>\n  //     <Route path=\"/search/:searchQuery\">\n  //         {searchForm}\n  //     </Route>\n  //     <Route path=\"/film/:movieId\">\n  //         <MovieDetails />\n  //     </Route>\n  //     <Route path=\"/\" exact>\n  //         {searchForm}\n  //     </Route>\n  //     <Route path=\"*\">\n  //         {NotFound}\n  //     </Route>\n  // </Switch>\n  ;\n  var main = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterOptions, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-result__title\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, movies.length), \" movies found\"), /*#__PURE__*/React.createElement(MovieList, {\n    movies: movies,\n    onMovieEditClick: handleMovieEditClick,\n    onMovieDeleteClick: handleMovieDeleteClick\n  }), addMovieModal, editMovieModal, deleteMovieModal);\n  return /*#__PURE__*/React.createElement(HeroLayout, {\n    headerRight: headerRight,\n    hero: searchForm,\n    main: main\n  });\n};\n\n_s2(Home, \"LPw1BcbP0N945mkJjqtNvKBlWEU=\", false, function () {\n  return [useModalState, useModalState, useModalState, useRouter];\n});\n\n_c = Home;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: moviesSelectors.filteredMovies(state),\n    isLoading: moviesSelectors.isLoading(state),\n    error: moviesSelectors.error(state)\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/projects/react-mentoring-program/src/containers/Home/Home.jsx"],"names":["React","useState","useEffect","useCallback","connect","useRouter","HeroLayout","Button","SearchForm","FilterOptions","MovieList","AddMovieModal","EditMovieModal","DeleteMovieModal","MovieDetails","moviesActions","moviesSelectors","useParams","useModalState","NotFound","Home","movies","isLoading","error","dispatchGetMovies","addMovieModalOpen","showAddMovideModal","closeAddMovideModal","movieIdToEdit","setMovieIdToEdit","editMovieModalOpen","showEditMovideModal","closeEditMovideModal","movieIdToDelete","setMovieIdToDelete","deleteMovieModalOpen","showDeleteMovideModal","closeDeleteMovideModal","router","headerRight","addMovieModal","editMovieModal","deleteMovieModal","handleMovieEditClick","movieId","handleMovieDeleteClick","searchForm","hero","main","length","mapStateToProps","state","filteredMovies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport HeroLayout from '../../layouts/HeroLayout';\r\n\r\nimport Button from '../../components/Button/Button';\r\n\r\nimport SearchForm from './SearchForm';\r\nimport FilterOptions from './FilterOptions';\r\nimport MovieList from '../../components/MovieList/MovieList';\r\nimport AddMovieModal from './AddMovieModal';\r\nimport EditMovieModal from './EditMovieModal';\r\nimport DeleteMovieModal from './DeleteMovieModal';\r\nimport MovieDetails from './MovieDetails';\r\nimport * as moviesActions from '../../store/actions/movies';\r\nimport * as moviesSelectors from '../../store/selectors/movies';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport useModalState from '../../hooks/useModalState';\r\n\r\nimport NotFound from '../NotFound/NotFound';\r\n\r\n\r\nconst Home = ({\r\n    movies,\r\n    isLoading,\r\n    error,\r\n    dispatchGetMovies,\r\n}) => {\r\n    const [addMovieModalOpen, showAddMovideModal, closeAddMovideModal] = useModalState();\r\n    const [movieIdToEdit, setMovieIdToEdit] = useState(null);\r\n    const [editMovieModalOpen, showEditMovideModal, closeEditMovideModal] = useModalState();\r\n    const [movieIdToDelete, setMovieIdToDelete] = useState(null);\r\n    const [deleteMovieModalOpen, showDeleteMovideModal, closeDeleteMovideModal] = useModalState();\r\n    const router = useRouter();\r\n    debugger;\r\n\r\n    const headerRight = (\r\n        <Button onClick={() => showAddMovideModal()}>+ ADD MOVIE</Button>\r\n    );\r\n\r\n    const addMovieModal = (\r\n        addMovieModalOpen ?\r\n            <AddMovieModal\r\n                onCloseClick={() => closeAddMovideModal()} /> :\r\n            null\r\n    );\r\n\r\n    const editMovieModal = (\r\n        editMovieModalOpen && movieIdToEdit ?\r\n            <EditMovieModal\r\n                movieId={movieIdToEdit}\r\n                onCloseClick={() => closeEditMovideModal()} /> :\r\n            null\r\n    );\r\n\r\n    const deleteMovieModal = (\r\n        deleteMovieModalOpen && movieIdToDelete ?\r\n            <DeleteMovieModal\r\n                movieId={movieIdToDelete}\r\n                onCloseClick={() => closeDeleteMovideModal()} /> :\r\n            null\r\n    );\r\n\r\n    const handleMovieEditClick = (movieId) => {\r\n        setMovieIdToEdit(movieId);\r\n        showEditMovideModal();\r\n    };\r\n\r\n    const handleMovieDeleteClick = (movieId) => {\r\n        setMovieIdToDelete(movieId);\r\n        showDeleteMovideModal();\r\n    };\r\n\r\n    const searchForm = (\r\n        <>\r\n            <h1 className=\"tp-header home__title\">FIND YOUR MOVIE</h1>\r\n\r\n            <section className=\"home__search\">\r\n                <SearchForm />\r\n            </section>\r\n        </>\r\n    );\r\n\r\n    const hero = (\r\n        <>\r\n            {searchForm}\r\n        </>\r\n        // <Switch>\r\n        //     <Route path=\"/search/:searchQuery\">\r\n        //         {searchForm}\r\n        //     </Route>\r\n        //     <Route path=\"/film/:movieId\">\r\n        //         <MovieDetails />\r\n        //     </Route>\r\n        //     <Route path=\"/\" exact>\r\n        //         {searchForm}\r\n        //     </Route>\r\n        //     <Route path=\"*\">\r\n        //         {NotFound}\r\n        //     </Route>\r\n        // </Switch>\r\n    );\r\n\r\n    const main = (\r\n        <>\r\n            <FilterOptions />\r\n\r\n            <div className=\"home-result__title\">\r\n                <strong>{movies.length}</strong> movies found\r\n            </div>\r\n\r\n            <MovieList movies={movies}\r\n                onMovieEditClick={handleMovieEditClick}\r\n                onMovieDeleteClick={handleMovieDeleteClick}\r\n            />\r\n\r\n            {addMovieModal}\r\n            {editMovieModal}\r\n            {deleteMovieModal}\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <HeroLayout\r\n            headerRight={headerRight}\r\n            hero={searchForm}\r\n            main={main}\r\n        >\r\n        </HeroLayout>\r\n    );\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        movies: moviesSelectors.filteredMovies(state),\r\n        isLoading: moviesSelectors.isLoading(state),\r\n        error: moviesSelectors.error(state),\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n)(Home);"]},"metadata":{},"sourceType":"module"}