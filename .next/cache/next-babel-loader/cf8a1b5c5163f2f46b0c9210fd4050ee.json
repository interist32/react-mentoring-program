{"ast":null,"code":"function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport HeroLayout from '../../layouts/HeroLayout';\nimport Button from '../../components/Button/Button';\nimport SearchForm from './SearchForm';\nimport FilterOptions from './FilterOptions';\nimport MovieList from '../../components/MovieList/MovieList';\nimport AddMovieModal from './AddMovieModal';\nimport EditMovieModal from './EditMovieModal';\nimport DeleteMovieModal from './DeleteMovieModal';\nimport MovieDetails from './MovieDetails';\nimport * as moviesActions from '../../store/actions/movies';\nimport * as moviesSelectors from '../../store/selectors/movies';\nimport { useParams } from 'react-router-dom';\nimport useModalState from '../../hooks/useModalState';\nimport './Home.scss';\nimport NotFound from '../NotFound/NotFound';\n\nvar Home = function Home(_ref) {\n  var movies = _ref.movies,\n      isLoading = _ref.isLoading,\n      error = _ref.error,\n      dispatchGetMovies = _ref.dispatchGetMovies;\n\n  var _useModalState = useModalState(),\n      _useModalState2 = _slicedToArray(_useModalState, 3),\n      addMovieModalOpen = _useModalState2[0],\n      showAddMovideModal = _useModalState2[1],\n      closeAddMovideModal = _useModalState2[2];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      movieIdToEdit = _useState2[0],\n      setMovieIdToEdit = _useState2[1];\n\n  var _useModalState3 = useModalState(),\n      _useModalState4 = _slicedToArray(_useModalState3, 3),\n      editMovieModalOpen = _useModalState4[0],\n      showEditMovideModal = _useModalState4[1],\n      closeEditMovideModal = _useModalState4[2];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      movieIdToDelete = _useState4[0],\n      setMovieIdToDelete = _useState4[1];\n\n  var _useModalState5 = useModalState(),\n      _useModalState6 = _slicedToArray(_useModalState5, 3),\n      deleteMovieModalOpen = _useModalState6[0],\n      showDeleteMovideModal = _useModalState6[1],\n      closeDeleteMovideModal = _useModalState6[2];\n\n  var headerRight = /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return showAddMovideModal();\n    }\n  }, \"+ ADD MOVIE\");\n  var addMovieModal = addMovieModalOpen ? /*#__PURE__*/React.createElement(AddMovieModal, {\n    onCloseClick: function onCloseClick() {\n      return closeAddMovideModal();\n    }\n  }) : null;\n  var editMovieModal = editMovieModalOpen && movieIdToEdit ? /*#__PURE__*/React.createElement(EditMovieModal, {\n    movieId: movieIdToEdit,\n    onCloseClick: function onCloseClick() {\n      return closeEditMovideModal();\n    }\n  }) : null;\n  var deleteMovieModal = deleteMovieModalOpen && movieIdToDelete ? /*#__PURE__*/React.createElement(DeleteMovieModal, {\n    movieId: movieIdToDelete,\n    onCloseClick: function onCloseClick() {\n      return closeDeleteMovideModal();\n    }\n  }) : null;\n\n  var handleMovieEditClick = function handleMovieEditClick(movieId) {\n    setMovieIdToEdit(movieId);\n    showEditMovideModal();\n  };\n\n  var handleMovieDeleteClick = function handleMovieDeleteClick(movieId) {\n    setMovieIdToDelete(movieId);\n    showDeleteMovideModal();\n  };\n\n  var searchForm = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"tp-header home__title\"\n  }, \"FIND YOUR MOVIE\"), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"home__search\"\n  }, /*#__PURE__*/React.createElement(SearchForm, null)));\n  var hero = /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/search/:searchQuery\"\n  }, searchForm), /*#__PURE__*/React.createElement(Route, {\n    path: \"/film/:movieId\"\n  }, /*#__PURE__*/React.createElement(MovieDetails, null)), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true\n  }, searchForm), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\"\n  }, NotFound));\n  var main = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterOptions, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-result__title\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, movies.length), \" movies found\"), /*#__PURE__*/React.createElement(MovieList, {\n    movies: movies,\n    onMovieEditClick: handleMovieEditClick,\n    onMovieDeleteClick: handleMovieDeleteClick\n  }), addMovieModal, editMovieModal, deleteMovieModal);\n  return /*#__PURE__*/React.createElement(HeroLayout, {\n    headerRight: headerRight,\n    hero: hero,\n    main: main\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: moviesSelectors.filteredMovies(state),\n    isLoading: moviesSelectors.isLoading(state),\n    error: moviesSelectors.error(state)\n  };\n};\n\nexport default connect(mapStateToProps)(Home);","map":null,"metadata":{},"sourceType":"module"}